@page "/eventdetails/{id:int}"
@inject UserSessionService UserSessionService
@inject AttendanceService AttendanceService

<h3>Event Details</h3>
<p>Event ID: @Id</p>

@if (UserSessionService.IsLoggedIn)
{
    <button @onclick="RegisterAttendance">Register Attendance</button>
}
else
{
    <p>You must be logged in to register attendance.</p>
}

@code {
    [Parameter]
    public int Id { get; set; }

    private void RegisterAttendance()
    {
        AttendanceService.RegisterParticipant(UserSessionService.UserName);
    }
}
